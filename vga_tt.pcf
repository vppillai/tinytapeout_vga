# iCEstick Pin Constraints for VGA TinyTapeout Project
# Board: Lattice iCEstick (iCE40HX1K-TQ144)
#
# TinyVGA PMOD Reference: https://github.com/mole99/tiny-vga

# =============================================================================
# CLOCK & RESET
# =============================================================================
set_io CLK   21    # 12 MHz Crystal

# Reset mapped to unused pin 44
# Active low - bridge to GND briefly to reset (optional - design auto-starts)
set_io BTN_N 44

# =============================================================================
# STATUS LED
# =============================================================================
set_io LED_ACTIVE 95  # Green LED (D5) - ON when PLL is locked

# =============================================================================
# TINY VGA PMOD (mole99) - iCEstick J2 Header
# =============================================================================
#
# TinyVGA PMOD Pinout (accent standard PMOD accent):
#   Top Row:    [1:R1] [2:G1] [3:B1] [4:VS] [5:GND] [6:VCC]
#   Bottom Row: [7:R0] [8:G0] [9:B0] [10:HS] [11:GND] [12:VCC]
#
# iCEstick J2 Header to FPGA Pin Mapping:
#   PMOD Pin 1  -> FPGA Pin 78
#   PMOD Pin 2  -> FPGA Pin 79
#   PMOD Pin 3  -> FPGA Pin 80
#   PMOD Pin 4  -> FPGA Pin 81
#   PMOD Pin 7  -> FPGA Pin 87
#   PMOD Pin 8  -> FPGA Pin 88
#   PMOD Pin 9  -> FPGA Pin 90
#   PMOD Pin 10 -> FPGA Pin 91
#
# Signal Mapping:
#   | PMOD Pin | TinyVGA Signal | FPGA Pin |
#   |----------|----------------|----------|
#   |    1     | R1 (Red MSB)   |    78    |
#   |    2     | G1 (Green MSB) |    79    |
#   |    3     | B1 (Blue MSB)  |    80    |
#   |    4     | VS (VSync)     |    81    |
#   |    7     | R0 (Red LSB)   |    87    |
#   |    8     | G0 (Green LSB) |    88    |
#   |    9     | B0 (Blue LSB)  |    90    |
#   |   10     | HS (HSync)     |    91    |
#
# -----------------------------------------------------------------------------

# Top Row (PMOD pins 1-4)
set_io VGA_R[1]   78  # PMOD Pin 1: R1 (Red MSB)
set_io VGA_G[1]   79  # PMOD Pin 2: G1 (Green MSB)
set_io VGA_B[1]   80  # PMOD Pin 3: B1 (Blue MSB)
set_io VGA_VSYNC  81  # PMOD Pin 4: VS (Vertical Sync)

# Bottom Row (PMOD pins 7-10)
set_io VGA_R[0]   87  # PMOD Pin 7: R0 (Red LSB)
set_io VGA_G[0]   88  # PMOD Pin 8: G0 (Green LSB)
set_io VGA_B[0]   90  # PMOD Pin 9: B0 (Blue LSB)
set_io VGA_HSYNC  91  # PMOD Pin 10: HS (Horizontal Sync)
